{"version":3,"sources":["webpack:///./.temp/pages/message/index.scss?50b7","webpack:///./.temp/pages/message/index.scss","webpack:///./.temp/pages/message/index.js","webpack:///./node_modules/tslib/tslib.js","webpack:///./.temp/hoc/router.js"],"names":["content","__webpack_require__","module","i","options","sourceMap","hmr","transform","insertInto","undefined","locals","exports","push","version","sources","names","mappings","file","sourceRoot","_taroH","_router","_components","utils","_request","Message","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","apply","arguments","config","navigationBarTitleText","changeItem","idx","currentData","state","message","hasnot_read_messages","has_read_messages","setState","prevState","_extends","selectItem","noData","length","markall","userInfo","props","post","url","data","accesstoken","token","then","resp","d","success","window","location","reload","showMenu","no_read_len","Component","_this2","get","willdata","_state","_nervjs2","default","createElement","View","className","_index2","pageType","fixHead","needAdd","messageCount","_classnames2","item","br","selected","onClick","bind","Text","map","Image","src","author","avatar_url","loginname","type","getLastTimeStr","date","friendly","reply","create_at","dangerouslySetInnerHTML","__html","_link2","to","params","id","topic","title","withUser","global","__WEBPACK_AMD_DEFINE_RESULT__","__extends","__assign","__rest","__decorate","__param","__metadata","__awaiter","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","factory","root","self","createExporter","previous","create","defineProperty","value","__esModule","v","exporter","extendStatics","setPrototypeOf","Array","b","p","hasOwnProperty","__","constructor","prototype","assign","t","s","n","call","e","indexOf","getOwnPropertySymbols","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","op","TypeError","pop","m","o","ar","error","concat","asyncIterator","q","a","resume","fulfill","settle","shift","cooked","raw","mod","k","tslib_1","_reduxH","actions","WrappedComponent","allowNologin","WithUserHOC","authCheckState","_inherits","_createClass","isSuperRender","userId","perform","Taro","redirectTo","componentWillMount","render","_get","connect","_ref","auth","dispatch","authLogin"],"mappings":"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","file":"chunk/message_index.js","sourcesContent":["\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--8-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-4!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"sourceMap\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--8-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-4!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--8-1!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-4!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.scss\",\"sourceRoot\":\"\"}]);\n\n// exports\n","import { Component } from \"@tarojs/taro-h5\";\nimport Nerv from \"nervjs\";\nimport { withUser } from \"../../hoc/router\";\nimport { View, Image, Text } from '@tarojs/components';\nimport ALink from \"../../components/link\";\nimport Header from '../../components/header/index';\nimport classNames from \"classnames\";\nimport * as utils from '../../libs/utils';\nimport { post, get } from \"../../utils/request\";\nimport './index.scss';\nclass Message extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.state = {\n      showMenu: false,\n      selectItem: 2,\n      message: {\n        hasnot_read_messages: [],\n        has_read_messages: []\n      },\n      noData: false,\n      currentData: [],\n      no_read_len: 0\n    };\n  }\n  componentDidShow() {\n    const { userInfo } = this.props;\n    get({\n      url: 'https://cnodejs.org/api/v1/messages?accesstoken=' + userInfo.token\n    }).then(resp => {\n      const d = resp.data;\n      const willdata = {};\n      if (d && d.data) {\n        willdata.message = d.data;\n        willdata.no_read_len = d.data.hasnot_read_messages.length;\n        if (d.data.hasnot_read_messages.length > 0) {\n          willdata.currentData = d.data.hasnot_read_messages;\n        } else {\n          willdata.currentData = d.data.has_read_messages;\n          willdata.selectItem = 2;\n        }\n        willdata.noData = willdata.currentData.length === 0;\n      } else {\n        willdata.noData = true;\n      }\n      this.setState({ ...willdata });\n    });\n  }\n  render() {\n    const { currentData, no_read_len, selectItem, noData } = this.state;\n    const getLastTimeStr = (date, friendly) => {\n      return utils.getLastTimeStr(date, friendly);\n    };\n    return <View className=\"flex-wrp\">\n        <Header pageType={\"消息\"} fixHead={true} showMenu={true} needAdd={true} messageCount={no_read_len} />\n        <View className=\"page-box page\">\n          <View className=\"tabs\">\n            <View className={classNames({\n            item: 1,\n            br: 1,\n            selected: selectItem === 2\n          })} onClick={this.changeItem.bind(this, 2)}>\n              已读消息\n            </View>\n            <View className={classNames({\n            item: 1,\n            selected: selectItem === 1\n          })} onClick={this.changeItem.bind(this, 1)}>\n              未读消息\n              {no_read_len > 0 ? <Text className=\"iconfont read\" onClick={this.markall}>\n                  \n                </Text> : \"\"}\n            </View>\n          </View>\n          <View className=\"tab-content\">\n            {currentData.map((item, idx) => {\n            return <View className=\"message markdown-body\">\n                  <View className=\"user\">\n                    <Image className=\"head\" src={item.author.avatar_url} />\n                    <View className=\"info\">\n                      <Text className=\"cl\">\n                        <Text className=\"name\">\n                          {item.author.loginname}\n                        </Text>\n                      {item.type === 'at' ? <Text className=\"name\">\n                            在回复中@了您\n                          </Text> : \"\"}\n                      {item.type === 'reply' ? <Text className=\"name\">\n                            回复了您的话题\n                          </Text> : \"\"}\n                      </Text>\n                      <Text className=\"cr\">\n                        <Text className=\"name\">\n                          {getLastTimeStr(item.reply.create_at, true)}\n                        </Text>\n                      </Text>\n                    </View>\n                  </View>\n                  <View className=\"reply_content\" dangerouslySetInnerHTML={{ __html: item.reply.content }} />\n                  <ALink to={{ url: \"/pages/topic/index\", params: { id: item.topic.id } }}>\n                    <View className=\"topic-title\">\n                      话题：\n                      {item.topic.title}\n                    </View>\n                  </ALink>\n                </View>;\n          })}\n            {noData ? <View className=\"no-data\">\n                <i className=\"iconfont icon-empty\"></i>\n                暂无数据!\n              </View> : \"\"}\n          </View>\n        </View>\n      </View>;\n  }\n  config = {\n    navigationBarTitleText: '消息'\n  };\n  changeItem = idx => {\n    const currentData = idx === 1 ? this.state.message.hasnot_read_messages : this.state.message.has_read_messages;\n    this.setState(prevState => ({\n      ...prevState,\n      selectItem: idx,\n      currentData: currentData,\n      noData: currentData.length === 0\n    }));\n  };\n  markall = () => {\n    const { userInfo } = this.props;\n    post({\n      url: 'https://cnodejs.org/api/v1/message/mark_all',\n      data: {\n        accesstoken: userInfo.token\n      }\n    }).then(resp => {\n      const d = resp.data;\n      if (d && d.success) {\n        window.location.reload();\n      }\n    });\n  };\n}\nexport default withUser(Message);","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n});\r\n","import Taro from '@tarojs/taro-h5';\nimport * as tslib_1 from \"tslib\";\nimport { Component } from \"@tarojs/taro-h5\";\nimport Nerv from \"nervjs\";\nimport { connect } from \"@tarojs/redux-h5\";\nimport * as actions from \"../actions/auth\";\nfunction withUser(WrappedComponent, allowNologin = false) {\n  let WithUserHOC = class WithUserHOC extends WrappedComponent {\n    constructor() {\n      super(...arguments);\n      this.props.authCheckState();\n    }\n    isSuperRender() {\n      const props = this.props;\n      return allowNologin || props.userInfo && props.userInfo.userId;\n    }\n    // refer  https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Redirect.js\n    perform() {\n      if (!this.isSuperRender()) {\n        Taro.redirectTo({ url: \"/pages/login/index\" });\n      }\n    }\n    componentWillMount() {\n      this.perform();\n    }\n    render() {\n      if (this.isSuperRender()) {\n        return super.render();\n      } else {\n        return null;\n      }\n    }\n  };\n  WithUserHOC = tslib_1.__decorate([connect(({ auth }) => ({ userInfo: auth }), dispatch => ({\n    authLogin: (...args) => dispatch(actions.auth(...args)),\n    authCheckState: () => dispatch(actions.authCheckState())\n  }))], WithUserHOC);\n  ;\n  return WithUserHOC;\n}\nexport { Component, withUser };"],"sourceRoot":""}